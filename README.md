# Zapret DPI Manager 2.0 для Steam Deck
Служба Zapret DPI основывается на разработке https://github.com/ImMALWARE. Большое ему спасибо за создание!
Данный скрипт представляет собой GUI оболочку для работы с службой + возможность выбрать стратегии
В новой версии:
- Новый дизайн
- Добавлены разные стратегии
- Есть возможность собрать свою стратегию из предложенных пресетов
- Добавление доменов в файл other2.txt для заблокированных сайтов
- Добавление доменов в файл ignore.txt для незаблокированных сайтов, которые не работают с запущенной службой
- Добавление пользовательских IP адресов
- Проверить соединение с выбранной стратегией. Может не на все 100% быть корректной для youtube, но для Discord да
- Настройка DNS. Можно выбрать DNS из предложенных вариантов, можно добавить свой DNS. Применяется в сети, к которой выполняется подключение в данный момент
- Разблокировка сервисов. Возможность внесение в список hosts имеющиеся сервисы для доступа к ним без впн
- На главном экране можно включить/отключить службу и автозапуск
- Обвноление и удаление запрета присутствует в шестеренке
- Добавлен индикатор статуса службы
- Ярлык добавляется на рабочий стол и в меню Пуск - Интернет
- Все стратегии, листы обхода находятся в главной папке Zapret DPI Manager, а не как раньше в папке /opt/zapret
- В окне ввода sudo пароля добавлена функция запоминания пароля, чтобы не пришлось вводить каждый раз пароль
- Пароль теперь запрашивается, только когда нужно, а не каждый раз при запуске программы
- При запуске программы добавлены проверки на наличие необходимых зависимостей и самой службы: 
  - Если после обновления SteamOS служба была удалена, то, при запуске приложения, появится об этом сообщение и будет произведено скачивание и установка службы из последнего релиза.
  - Если по каким-то причинам не удалось установить какую-то зависимость или обновить ключи, то появится предупреждение об этом и программа продолжит свою работу. Нужно будет просто подключиться к другой точке доступа в интернет

## Установка
Для работы вам понадобится sudo пароль. Его можно установить через консоль командой `passwd`
1. Скачать архив  [install_zapret.tar.gz](https://raw.githubusercontent.com/mashakulina/Zapret-DPI-for-Steam-Deck/main/install_zapret.tar.gz) 
2. Распаковать в удобном месте. Например в загрузках
3. Кликнуть по нему два раза
4. Ввести sudo пароль
5. Дождаться окончания установки
P.S. Если был установлен старый вариант Zapret, то будет предложено сделать бэкап пользовательских файлов, либо сразу удаление всех старых файлов и установка новых

Сама программа находится по пути `/home/deck/Zapret_DPI_Manager` - не удалять
